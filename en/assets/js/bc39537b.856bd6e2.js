"use strict";(self.webpackChunkathenaserving=self.webpackChunkathenaserving||[]).push([[6845],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>u});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var o=n.createContext({}),c=function(e){var t=n.useContext(o),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},p=function(e){var t=c(e.components);return n.createElement(o.Provider,{value:t},e.children)},d="mdxType",k={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},f=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,o=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),d=c(a),f=r,u=d["".concat(o,".").concat(f)]||d[f]||k[f]||l;return a?n.createElement(u,s(s({ref:t},p),{},{components:a})):n.createElement(u,s({ref:t},p))}));function u(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,s=new Array(l);s[0]=f;var i={};for(var o in t)hasOwnProperty.call(t,o)&&(i[o]=t[o]);i.originalType=e,i[d]="string"==typeof e?e:r,s[1]=i;for(var c=2;c<l;c++)s[c]=a[c];return n.createElement.apply(null,s)}return n.createElement.apply(null,a)}f.displayName="MDXCreateElement"},39595:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>o,contentTitle:()=>s,default:()=>k,frontMatter:()=>l,metadata:()=>i,toc:()=>c});var n=a(87462),r=(a(67294),a(3905));const l={sidebar_position:10,sidebar_label:"\u7f51\u7edc\u6d41\u63a7\u53ca\u53cd\u538b\u5256\u6790"},s=void 0,i={unversionedId:"\u6570\u636e\u5f00\u53d1/Apache Flink/\u7406\u8bba/\u7f51\u7edc\u6d41\u63a7\u53ca\u53cd\u538b\u5256\u6790",id:"\u6570\u636e\u5f00\u53d1/Apache Flink/\u7406\u8bba/\u7f51\u7edc\u6d41\u63a7\u53ca\u53cd\u538b\u5256\u6790",title:"\u7f51\u7edc\u6d41\u63a7\u53ca\u53cd\u538b\u5256\u6790",description:"\u7f51\u7edc\u6d41\u63a7\u7684\u6982\u5ff5\u4e0e\u80cc\u666f",source:"@site/docs/\u6570\u636e\u5f00\u53d1/Apache Flink/\u7406\u8bba/\u7f51\u7edc\u6d41\u63a7\u53ca\u53cd\u538b\u5256\u6790.md",sourceDirName:"\u6570\u636e\u5f00\u53d1/Apache Flink/\u7406\u8bba",slug:"/\u6570\u636e\u5f00\u53d1/Apache Flink/\u7406\u8bba/\u7f51\u7edc\u6d41\u63a7\u53ca\u53cd\u538b\u5256\u6790",permalink:"/en/docs/\u6570\u636e\u5f00\u53d1/Apache Flink/\u7406\u8bba/\u7f51\u7edc\u6d41\u63a7\u53ca\u53cd\u538b\u5256\u6790",draft:!1,editUrl:"https://github.com/zhangyongtian/bigdataknowledge/tree/dev/docs/\u6570\u636e\u5f00\u53d1/Apache Flink/\u7406\u8bba/\u7f51\u7edc\u6d41\u63a7\u53ca\u53cd\u538b\u5256\u6790.md",tags:[],version:"current",sidebarPosition:10,frontMatter:{sidebar_position:10,sidebar_label:"\u7f51\u7edc\u6d41\u63a7\u53ca\u53cd\u538b\u5256\u6790"},sidebar:"docSidebar",previous:{title:"Flink \u4f5c\u4e1a\u6267\u884c\u6df1\u5ea6\u89e3\u6790",permalink:"/en/docs/\u6570\u636e\u5f00\u53d1/Apache Flink/\u7406\u8bba/Flink \u4f5c\u4e1a\u6267\u884c\u6df1\u5ea6\u89e3\u6790"},next:{title:"End-to-End-Exactly-Once",permalink:"/en/docs/\u6570\u636e\u5f00\u53d1/Apache Flink/\u7406\u8bba/End-to-End-Exactly-Once"}},o={},c=[{value:"\u7f51\u7edc\u6d41\u63a7\u7684\u6982\u5ff5\u4e0e\u80cc\u666f",id:"\u7f51\u7edc\u6d41\u63a7\u7684\u6982\u5ff5\u4e0e\u80cc\u666f",level:2},{value:"\u4e3a\u4ec0\u4e48\u9700\u8981\u7f51\u7edc\u6d41\u63a7",id:"\u4e3a\u4ec0\u4e48\u9700\u8981\u7f51\u7edc\u6d41\u63a7",level:3},{value:"\u7f51\u7edc\u6d41\u63a7\u7684\u5b9e\u73b0\uff1a\u9759\u6001\u9650\u901f",id:"\u7f51\u7edc\u6d41\u63a7\u7684\u5b9e\u73b0\u9759\u6001\u9650\u901f",level:3},{value:"\u7f51\u7edc\u6d41\u63a7\u7684\u5b9e\u73b0\uff1a\u52a8\u6001\u53cd\u9988 / \u81ea\u52a8\u53cd\u538b",id:"\u7f51\u7edc\u6d41\u63a7\u7684\u5b9e\u73b0\u52a8\u6001\u53cd\u9988--\u81ea\u52a8\u53cd\u538b",level:3},{value:"\u6848\u4f8b\u4e00\uff1aStorm \u53cd\u538b\u5b9e\u73b0",id:"\u6848\u4f8b\u4e00storm-\u53cd\u538b\u5b9e\u73b0",level:3},{value:"\u6848\u4f8b\u4e8c\uff1aSpark Streaming \u53cd\u538b\u5b9e\u73b0",id:"\u6848\u4f8b\u4e8cspark-streaming-\u53cd\u538b\u5b9e\u73b0",level:3},{value:"\u7591\u95ee\uff1a\u4e3a\u4ec0\u4e48 Flink\uff08before V1.5\uff09\u91cc\u6ca1\u6709\u7528\u7c7b\u4f3c\u7684\u65b9\u5f0f\u5b9e\u73b0 feedback \u673a\u5236\uff1f",id:"\u7591\u95ee\u4e3a\u4ec0\u4e48-flinkbefore-v15\u91cc\u6ca1\u6709\u7528\u7c7b\u4f3c\u7684\u65b9\u5f0f\u5b9e\u73b0-feedback-\u673a\u5236",level:3},{value:"TCP \u6d41\u63a7\u673a\u5236",id:"tcp-\u6d41\u63a7\u673a\u5236",level:3},{value:"Flink TCP-based \u53cd\u538b\u673a\u5236\uff08before V1.5\uff09",id:"flink-tcp-based-\u53cd\u538b\u673a\u5236before-v15",level:2},{value:"\u793a\u4f8b\uff1aWindowWordCount",id:"\u793a\u4f8bwindowwordcount",level:3},{value:"\u7f16\u8bd1\u9636\u6bb5\uff1a\u751f\u6210 JobGraph",id:"\u7f16\u8bd1\u9636\u6bb5\u751f\u6210-jobgraph",level:3},{value:"\u8fd0\u884c\u9636\u6bb5\uff1a\u8c03\u5ea6 ExecutionGraph",id:"\u8fd0\u884c\u9636\u6bb5\u8c03\u5ea6-executiongraph",level:3},{value:"\u95ee\u9898\u62c6\u89e3\uff1a\u53cd\u538b\u4f20\u64ad\u4e24\u4e2a\u9636\u6bb5",id:"\u95ee\u9898\u62c6\u89e3\u53cd\u538b\u4f20\u64ad\u4e24\u4e2a\u9636\u6bb5",level:3},{value:"\u8de8 TaskManager \u6570\u636e\u4f20\u8f93",id:"\u8de8-taskmanager-\u6570\u636e\u4f20\u8f93",level:3},{value:"\u8de8 TaskManager \u53cd\u538b\u8fc7\u7a0b",id:"\u8de8-taskmanager-\u53cd\u538b\u8fc7\u7a0b",level:3},{value:"TaskManager \u5185\u53cd\u538b\u8fc7\u7a0b",id:"taskmanager-\u5185\u53cd\u538b\u8fc7\u7a0b",level:3},{value:"Flink Credit-based \u53cd\u538b\u673a\u5236\uff08since V1.5\uff09",id:"flink-credit-based-\u53cd\u538b\u673a\u5236since-v15",level:2},{value:"TCP-based \u53cd\u538b\u7684\u5f0a\u7aef",id:"tcp-based-\u53cd\u538b\u7684\u5f0a\u7aef",level:3},{value:"\u5f15\u5165 Credit-based \u53cd\u538b",id:"\u5f15\u5165-credit-based-\u53cd\u538b",level:3},{value:"Credit-based \u53cd\u538b\u8fc7\u7a0b",id:"credit-based-\u53cd\u538b\u8fc7\u7a0b",level:3},{value:"\u603b\u7ed3\u4e0e\u601d\u8003",id:"\u603b\u7ed3\u4e0e\u601d\u8003",level:2}],p={toc:c},d="wrapper";function k(e){let{components:t,...l}=e;return(0,r.kt)(d,(0,n.Z)({},p,l,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"\u7f51\u7edc\u6d41\u63a7\u7684\u6982\u5ff5\u4e0e\u80cc\u666f"},"\u7f51\u7edc\u6d41\u63a7\u7684\u6982\u5ff5\u4e0e\u80cc\u666f"),(0,r.kt)("h3",{id:"\u4e3a\u4ec0\u4e48\u9700\u8981\u7f51\u7edc\u6d41\u63a7"},"\u4e3a\u4ec0\u4e48\u9700\u8981\u7f51\u7edc\u6d41\u63a7"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"\u80cc\u666f\u56fe\u7247",src:a(181).Z,width:"669",height:"317"})),(0,r.kt)("p",null,"\u9996\u5148\u6211\u4eec\u53ef\u4ee5\u770b\u4e0b\u8fd9\u5f20\u6700\u7cbe\u7b80\u7684\u7f51\u7edc\u6d41\u63a7\u7684\u56fe\uff0c",(0,r.kt)("strong",{parentName:"p"},"Producer \u7684\u541e\u5410\u7387\u662f 2MB/s\uff0cConsumer \u662f 1MB/s"),"\uff0c\u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u5c31\u4f1a\u53d1\u73b0\u5728\u7f51\u7edc\u901a\u4fe1\u7684\u65f6\u5019\u6211\u4eec\u7684 Producer\u7684\u901f\u5ea6\u662f\u6bd4 Consumer \u8981\u5feb\u7684\uff0c\u6709 1MB/s \u7684\u8fd9\u6837\u7684\u901f\u5ea6\u5dee\uff0c\u5047\u5b9a\u6211\u4eec\u4e24\u7aef\u90fd\u6709\u4e00\u4e2aBuffer\uff0cProducer \u7aef\u6709\u4e00\u4e2a\u53d1\u9001\u7528\u7684 Send Buffer\uff0cConsumer \u7aef\u6709\u4e00\u4e2a\u63a5\u6536\u7528\u7684Receive Buffer\uff0c",(0,r.kt)("strong",{parentName:"p"},"\u5728\u7f51\u7edc\u7aef\u7684\u541e\u5410\u7387\u662f 2MB/s\uff0c\u8fc7\u4e86 5s \u540e\u6211\u4eec\u7684 Receive Buffer\u53ef\u80fd\u5c31\u6491\u4e0d\u4f4f\u4e86"),"\uff0c\u8fd9\u65f6\u5019\u4f1a\u9762\u4e34\u4e24\u79cd\u60c5\u51b5\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u5982\u679c Receive Buffer \u662f\u6709\u754c\u7684\uff0c\u8fd9\u65f6\u5019\u65b0\u5230\u8fbe\u7684\u6570\u636e\u5c31\u53ea\u80fd\u88ab\u4e22\u5f03\u6389\u4e86\u3002"),(0,r.kt)("li",{parentName:"ul"},"\u5982\u679c Receive Buffer \u662f\u65e0\u754c\u7684\uff0cReceive Buffer \u4f1a\u6301\u7eed\u7684\u6269\u5f20\uff0c\u6700\u7ec8\u4f1a\u5bfc\u81f4 Consumer \u7684\u5185\u5b58\u8017\u5c3d\u3002")),(0,r.kt)("h3",{id:"\u7f51\u7edc\u6d41\u63a7\u7684\u5b9e\u73b0\u9759\u6001\u9650\u901f"},"\u7f51\u7edc\u6d41\u63a7\u7684\u5b9e\u73b0\uff1a\u9759\u6001\u9650\u901f"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"\u9759\u6001\u9650\u901f",src:a(61300).Z,width:"744",height:"378"})),(0,r.kt)("p",null,"\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u5c31\u9700\u8981\u7f51\u7edc\u6d41\u63a7\u6765\u89e3\u51b3\u4e0a\u4e0b\u6e38\u901f\u5ea6\u5dee\u7684\u95ee\u9898\uff0c\u4f20\u7edf\u7684\u505a\u6cd5\u53ef\u4ee5\u5728",(0,r.kt)("strong",{parentName:"p"},"Producer \u7aef\u5b9e\u73b0\u4e00\u4e2a\u7c7b\u4f3c Rate Limiter \u8fd9\u6837\u7684\u9759\u6001\u9650\u6d41"),"\uff0cProducer \u7684\u53d1\u9001\u901f\u7387\u662f 2MB/s\uff0c\u4f46\u662f\u7ecf\u8fc7\u9650\u6d41\u8fd9\u4e00\u5c42\u540e\uff0c",(0,r.kt)("strong",{parentName:"p"},"\u5f80 Send Buffer \u53bb\u4f20\u6570\u636e\u7684\u65f6\u5019\u5c31\u4f1a\u964d\u5230 1MB/s \u4e86"),"\uff0c\u8fd9\u6837\u7684\u8bdd Producer \u7aef\u7684\u53d1\u9001\u901f\u7387\u8ddf Consumer \u7aef\u7684\u5904\u7406\u901f\u7387\u5c31\u53ef\u4ee5\u5339\u914d\u8d77\u6765\u4e86\uff0c\u5c31\u4e0d\u4f1a\u5bfc\u81f4\u4e0a\u8ff0\u95ee\u9898\u3002\u4f46\u662f\u8fd9\u4e2a\u89e3\u51b3\u65b9\u6848\u6709\u4e24\u70b9\u9650\u5236\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u4e8b\u5148\u65e0\u6cd5\u9884\u4f30 Consumer \u5230\u5e95\u80fd\u627f\u53d7\u591a\u5927\u7684\u901f\u7387\u3002"),(0,r.kt)("li",{parentName:"ul"},"Consumer \u7684\u627f\u53d7\u80fd\u529b\u901a\u5e38\u4f1a\u52a8\u6001\u5730\u6ce2\u52a8\u3002")),(0,r.kt)("h3",{id:"\u7f51\u7edc\u6d41\u63a7\u7684\u5b9e\u73b0\u52a8\u6001\u53cd\u9988--\u81ea\u52a8\u53cd\u538b"},"\u7f51\u7edc\u6d41\u63a7\u7684\u5b9e\u73b0\uff1a\u52a8\u6001\u53cd\u9988 / \u81ea\u52a8\u53cd\u538b"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"\u81ea\u52a8\u53cd\u538b",src:a(33539).Z,width:"680",height:"285"})),(0,r.kt)("p",null,"\u9488\u5bf9\u9759\u6001\u9650\u901f\u7684\u95ee\u9898\u6211\u4eec\u5c31\u6f14\u8fdb\u5230\u4e86\u52a8\u6001\u53cd\u9988\uff08\u81ea\u52a8\u53cd\u538b\uff09\u7684\u673a\u5236\uff0c\u6211",(0,r.kt)("strong",{parentName:"p"},"\u4eec\u9700\u8981Consumer \u80fd\u591f\u53ca\u65f6\u7684\u7ed9 Producer \u505a\u4e00\u4e2a feedback"),"\uff0c\u5373\u544a\u77e5 Producer \u80fd\u591f\u627f\u7684\u901f\u7387\u662f\u591a\u5c11\u3002\u52a8\u6001\u53cd\u9988\u5206\u4e3a\u4e24\u79cd\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u8d1f\u53cd\u9988\uff1a\u63a5\u53d7\u901f\u7387\u5c0f\u4e8e\u53d1\u9001\u901f\u7387\u65f6\u53d1\u751f\uff0c\u544a\u77e5 Producer \u964d\u4f4e\u53d1\u9001\u901f\u7387\u3002"),(0,r.kt)("li",{parentName:"ul"},"\u6b63\u53cd\u9988\uff1a\u53d1\u9001\u901f\u7387\u5c0f\u4e8e\u63a5\u6536\u901f\u7387\u65f6\u53d1\u751f\uff0c\u544a\u77e5 Producer \u53ef\u4ee5\u628a\u53d1\u9001\u901f\u7387\u63d0\u4e0a\u6765\u3002")),(0,r.kt)("p",null,"\u8ba9\u6211\u4eec\u6765\u770b\u51e0\u4e2a\u7ecf\u5178\u6848\u4f8b\uff1a"),(0,r.kt)("h3",{id:"\u6848\u4f8b\u4e00storm-\u53cd\u538b\u5b9e\u73b0"},"\u6848\u4f8b\u4e00\uff1aStorm \u53cd\u538b\u5b9e\u73b0"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"\u81ea\u52a8\u53cd\u538b",src:a(68832).Z,width:"721",height:"555"})),(0,r.kt)("p",null,"\u4e0a\u56fe\u5c31\u662f Storm \u91cc\u5b9e\u73b0\u7684\u53cd\u538b\u673a\u5236\uff0c",(0,r.kt)("strong",{parentName:"p"},"\u53ef\u4ee5\u770b\u5230 Storm \u5728\u6bcf\u4e00\u4e2a Bolt \u90fd\u4f1a\u6709\u4e00\u4e2a\u76d1\u6d4b\u53cd\u538b\u7684\u7ebf\u7a0b\uff08Backpressure Thread\uff09\uff0c\u8fd9\u4e2a\u7ebf\u7a0b\u4e00\u4f46\u68c0\u6d4b\u5230 Bolt \u91cc\u7684\u63a5\u6536\u961f\u5217\uff08recv queue\uff09\u51fa\u73b0\u4e86\u4e25\u91cd\u963b\u585e\u5c31\u4f1a\u628a\u8fd9\u4e2a\u60c5\u51b5\u5199\u5230 ZooKeeper \u91cc\uff0cZooKeeper \u4f1a\u4e00\u76f4\u88ab Spout \u76d1\u542c\uff0c\u76d1\u542c\u5230\u6709\u53cd\u538b\u7684\u60c5\u51b5\u5c31\u4f1a\u505c\u6b62\u53d1\u9001"),"\uff0c\u901a\u8fc7\u8fd9\u6837\u7684\u65b9\u5f0f\u5339\u914d\u4e0a\u4e0b\u6e38\u7684\u53d1\u9001\u63a5\u6536\u901f\u7387\u3002"),(0,r.kt)("h3",{id:"\u6848\u4f8b\u4e8cspark-streaming-\u53cd\u538b\u5b9e\u73b0"},"\u6848\u4f8b\u4e8c\uff1aSpark Streaming \u53cd\u538b\u5b9e\u73b0"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"\u53cd\u538b\u5b9e\u73b0",src:a(74088).Z,width:"582",height:"317"})),(0,r.kt)("p",null,"Spark Streaming \u91cc\u4e5f\u6709\u505a\u7c7b\u4f3c\u8fd9\u6837\u7684 feedback \u673a\u5236\uff0c\u4e0a\u56fe Fecher \u4f1a\u5b9e\u65f6\u7684\u4ece Buffer\u3001Processing \u8fd9\u6837\u7684\u8282\u70b9\u6536\u96c6\u4e00\u4e9b\u6307\u6807\u7136\u540e\u901a\u8fc7 Controller \u628a\u901f\u5ea6\u63a5\u6536\u7684\u60c5\u51b5\u518d\u53cd\u9988\u5230 Receiver\uff0c\u5b9e\u73b0\u901f\u7387\u7684\u5339\u914d\u3002"),(0,r.kt)("h3",{id:"\u7591\u95ee\u4e3a\u4ec0\u4e48-flinkbefore-v15\u91cc\u6ca1\u6709\u7528\u7c7b\u4f3c\u7684\u65b9\u5f0f\u5b9e\u73b0-feedback-\u673a\u5236"},"\u7591\u95ee\uff1a\u4e3a\u4ec0\u4e48 Flink\uff08before V1.5\uff09\u91cc\u6ca1\u6709\u7528\u7c7b\u4f3c\u7684\u65b9\u5f0f\u5b9e\u73b0 feedback \u673a\u5236\uff1f"),(0,r.kt)("p",null,"\u9996\u5148\u5728\u89e3\u51b3\u8fd9\u4e2a\u7591\u95ee\u4e4b\u524d\u6211\u4eec\u9700\u8981\u5148\u4e86\u89e3\u4e00\u4e0b Flink \u7684\u7f51\u7edc\u4f20\u8f93\u662f\u4e00\u4e2a\u4ec0\u4e48\u6837\u7684\u67b6\u6784\u3002"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"\u53cd\u538b\u5b9e\u73b0",src:a(72844).Z,width:"589",height:"290"})),(0,r.kt)("p",null,"\u8fd9\u5f20\u56fe\u5c31\u4f53\u73b0\u4e86 Flink \u5728\u505a\u7f51\u7edc\u4f20\u8f93\u7684\u65f6\u5019\u57fa\u672c\u7684\u6570\u636e\u7684\u6d41\u5411\uff0c\u53d1\u9001\u7aef\u5728\u53d1\u9001\u7f51\u7edc\u6570\u636e\u524d\u8981\u7ecf\u5386\u81ea\u5df1\u5185\u90e8\u7684\u4e00\u4e2a\u6d41\u7a0b\uff0c\u4f1a\u6709\u4e00\u4e2a\u81ea\u5df1\u7684 Network Buffer\uff0c\u5728\u5e95\u5c42\u7528 Netty \u53bb\u505a\u901a\u4fe1\uff0cNetty \u8fd9\u4e00\u5c42\u53c8\u6709\u5c5e\u4e8e\u81ea\u5df1\u7684 ChannelOutbound Buffer\uff0c\u56e0\u4e3a\u6700\u7ec8\u662f\u8981\u901a\u8fc7 Socket \u505a\u7f51\u7edc\u8bf7\u6c42\u7684\u53d1\u9001\uff0c\u6240\u4ee5\u5728 Socket \u4e5f\u6709\u81ea\u5df1\u7684 Send Buffer\uff0c\u540c\u6837\u5728\u63a5\u6536\u7aef\u4e5f\u6709\u5bf9\u5e94\u7684\u4e09\u7ea7 Buffer\u3002\u5b66\u8fc7\u8ba1\u7b97\u673a\u7f51\u7edc\u7684\u65f6\u5019\u6211\u4eec\u5e94\u8be5\u4e86\u89e3\u5230\uff0c",(0,r.kt)("strong",{parentName:"p"},"TCP \u662f\u81ea\u5e26\u6d41\u91cf\u63a7\u5236\u7684\u3002\u5b9e\u9645\u4e0a Flink \uff08before V1.5\uff09\u5c31\u662f\u901a\u8fc7 TCP \u7684\u6d41\u63a7\u673a\u5236\u6765\u5b9e\u73b0 feedback \u7684"),"\u3002"),(0,r.kt)("h3",{id:"tcp-\u6d41\u63a7\u673a\u5236"},"TCP \u6d41\u63a7\u673a\u5236"),(0,r.kt)("p",null,"\u6839\u636e\u4e0b\u56fe\u6211\u4eec\u6765\u7b80\u5355\u7684\u56de\u987e\u4e00\u4e0b TCP \u5305\u7684\u683c\u5f0f\u7ed3\u6784\u3002\u9996\u5148\uff0c",(0,r.kt)("strong",{parentName:"p"},"\u4ed6\u6709 Sequence number \u8fd9\u6837\u4e00\u4e2a\u673a\u5236\u7ed9\u6bcf\u4e2a\u6570\u636e\u5305\u505a\u4e00\u4e2a\u7f16\u53f7\uff0c\u8fd8\u6709 ACK number \u8fd9\u6837\u4e00\u4e2a\u673a\u5236\u6765\u786e\u4fdd TCP \u7684\u6570\u636e\u4f20\u8f93\u662f\u53ef\u9760\u7684\uff0c\u9664\u6b64\u4e4b\u5916\u8fd8\u6709\u4e00\u4e2a\u5f88\u91cd\u8981\u7684\u90e8\u5206\u5c31\u662f Window Size\uff0c\u63a5\u6536\u7aef\u5728\u56de\u590d\u6d88\u606f\u7684\u65f6\u5019\u4f1a\u901a\u8fc7 Window Size \u544a\u8bc9\u53d1\u9001\u7aef\u8fd8\u53ef\u4ee5\u53d1\u9001\u591a\u5c11\u6570\u636e"),"\u3002"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"\u53cd\u538b\u5b9e\u73b0",src:a(68535).Z,width:"702",height:"389"})),(0,r.kt)("p",null,"\u63a5\u4e0b\u6765\u6211\u4eec\u6765\u7b80\u5355\u770b\u4e00\u4e0b\u8fd9\u4e2a\u8fc7\u7a0b\u3002"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"\u53cd\u538b\u5b9e\u73b0",src:a(55975).Z,width:"804",height:"438"})),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"TCP \u7684\u6d41\u63a7\u5c31\u662f\u57fa\u4e8e\u6ed1\u52a8\u7a97\u53e3\u7684\u673a\u5236\uff0c\u73b0\u5728\u6211\u4eec\u6709\u4e00\u4e2a Socket \u7684\u53d1\u9001\u7aef\u548c\u4e00\u4e2a Socket \u7684\u63a5\u6536\u7aef"),"\uff0c\u76ee\u524d\u6211\u4eec\u7684",(0,r.kt)("strong",{parentName:"p"},"\u53d1\u9001\u7aef\u7684\u901f\u7387\u662f\u6211\u4eec\u63a5\u6536\u7aef\u7684 3 \u500d"),"\uff0c\u8fd9\u6837\u4f1a\u53d1\u751f\u4ec0\u4e48\u6837\u7684\u4e00\u4e2a\u60c5\u51b5\u5462\uff1f\u5047\u5b9a\u521d\u59cb\u7684\u65f6\u5019\u6211\u4eec\u53d1\u9001\u7684 window \u5927\u5c0f\u662f 3\uff0c\u7136\u540e\u6211\u4eec\u63a5\u6536\u7aef\u7684 window \u5927\u5c0f\u662f\u56fa\u5b9a\u7684\uff0c\u5c31\u662f\u63a5\u6536\u7aef\u7684 Buffer \u5927\u5c0f\u4e3a 5\u3002"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"\u53cd\u538b\u5b9e\u73b0",src:a(5174).Z,width:"592",height:"340"})),(0,r.kt)("p",null,"\u9996\u5148\uff0c\u53d1\u9001\u7aef\u4f1a\u4e00\u6b21\u6027\u53d1 3 \u4e2a packets\uff0c\u5c06 1\uff0c2\uff0c3 \u53d1\u9001\u7ed9\u63a5\u6536\u7aef\uff0c",(0,r.kt)("strong",{parentName:"p"},"\u63a5\u6536\u7aef\u63a5\u6536\u5230\u540e\u4f1a\u5c06\u8fd9 3 \u4e2a packets \u653e\u5230 Buffer \u91cc\u53bb"),"\u3002"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"\u53cd\u538b\u5b9e\u73b0",src:a(88906).Z,width:"584",height:"320"})),(0,r.kt)("p",null,"\u63a5\u6536\u7aef\u4e00\u6b21\u6d88\u8d39 1 \u4e2a packet\uff0c\u8fd9\u65f6\u5019 1 \u5c31\u5df2\u7ecf\u88ab\u6d88\u8d39\u4e86\uff0c\u7136\u540e\u6211\u4eec\u770b\u5230\u63a5\u6536\u7aef\u7684\u6ed1\u52a8\u7a97\u53e3\u4f1a\u5f80\u524d\u6ed1\u52a8\u4e00\u683c\uff0c",(0,r.kt)("strong",{parentName:"p"},"\u8fd9\u65f6\u5019 2\uff0c3 \u8fd8\u5728 Buffer \u5f53\u4e2d \u800c 4\uff0c5\uff0c6 \u662f\u7a7a\u51fa\u6765\u7684"),"\uff0c\u6240\u4ee5\u63a5\u6536\u7aef\u4f1a\u7ed9\u53d1\u9001\u7aef\u53d1\u9001 ACK = 4 \uff0c",(0,r.kt)("strong",{parentName:"p"},"\u4ee3\u8868\u53d1\u9001\u7aef\u53ef\u4ee5\u4ece 4 \u5f00\u59cb\u53d1\u9001\uff0c\u540c\u65f6\u4f1a\u5c06 window \u8bbe\u7f6e\u4e3a 3 \uff08Buffer \u7684\u5927\u5c0f 5 \u51cf\u53bb\u5df2\u7ecf\u5b58\u4e0b\u7684 2 \u548c 3\uff09"),"\uff0c\u53d1\u9001\u7aef\u63a5\u6536\u5230\u56de\u5e94\u540e\u4e5f\u4f1a\u5c06\u4ed6\u7684\u6ed1\u52a8\u7a97\u53e3\u5411\u524d\u79fb\u52a8\u5230 4\uff0c5\uff0c6\u3002"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"\u53cd\u538b\u5b9e\u73b0",src:a(12791).Z,width:"604",height:"353"})),(0,r.kt)("p",null,"\u8fd9\u65f6\u5019\u53d1\u9001\u7aef\u5c06 4\uff0c5\uff0c6 \u53d1\u9001\uff0c\u63a5\u6536\u7aef\u4e5f\u80fd\u6210\u529f\u7684\u63a5\u6536\u5230 Buffer \u4e2d\u53bb\u3002"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"\u53cd\u538b\u5b9e\u73b0",src:a(95746).Z,width:"675",height:"365"})),(0,r.kt)("p",null,"\u5230\u8fd9\u4e00\u9636\u6bb5\u540e\uff0c\u63a5\u6536\u7aef\u5c31\u6d88\u8d39\u5230 2 \u4e86\uff0c\u540c\u6837\u4ed6\u7684\u7a97\u53e3\u4e5f\u4f1a\u5411\u524d\u6ed1\u52a8\u4e00\u4e2a\uff0c",(0,r.kt)("strong",{parentName:"p"},"\u8fd9\u65f6\u5019\u4ed6\u7684 Buffer \u5c31\u53ea\u5269\u4e00\u4e2a\u4e86\uff0c\u4e8e\u662f\u5411\u53d1\u9001\u7aef\u53d1\u9001 ACK = 7\u3001window = 1"),"\u3002\u53d1\u9001\u7aef\u6536\u5230\u4e4b\u540e\u6ed1\u52a8\u7a97\u53e3\u4e5f\u5411\u524d\u79fb\uff0c\u4f46\u662f\u8fd9\u4e2a\u65f6\u5019\u5c31\u4e0d\u80fd\u79fb\u52a8 3 \u683c\u4e86\uff0c",(0,r.kt)("strong",{parentName:"p"},"\u867d\u7136\u53d1\u9001\u7aef\u7684\u901f\u5ea6\u5141\u8bb8\u53d1 3 \u4e2a packets \u4f46\u662f window \u4f20\u503c\u5df2\u7ecf\u544a\u77e5\u53ea\u80fd\u63a5\u6536\u4e00\u4e2a\uff0c\u6240\u4ee5\u4ed6\u7684\u6ed1\u52a8\u7a97\u53e3\u5c31\u53ea\u80fd\u5f80\u524d\u79fb\u4e00\u683c\u5230 7"),"\uff0c\u8fd9\u6837\u5c31",(0,r.kt)("strong",{parentName:"p"},"\u8fbe\u5230\u4e86\u9650\u6d41\u7684\u6548\u679c"),"\uff0c\u53d1\u9001\u7aef\u7684\u53d1\u9001\u901f\u5ea6\u4ece 3 \u964d\u5230 1\u3002"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"\u53cd\u538b\u5b9e\u73b0",src:a(56420).Z,width:"698",height:"379"})),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"\u53cd\u538b\u5b9e\u73b0",src:a(69687).Z,width:"708",height:"348"})),(0,r.kt)("p",null,"\u6211\u4eec\u518d\u770b\u4e00\u4e0b\u8fd9\u79cd\u60c5\u51b5\uff0c",(0,r.kt)("strong",{parentName:"p"},"\u8fd9\u65f6\u5019\u53d1\u9001\u7aef\u5c06 7 \u53d1\u9001\u540e\uff0c\u63a5\u6536\u7aef\u63a5\u6536\u5230\uff0c\u4f46\u662f\u7531\u4e8e\u63a5\u6536\u7aef\u7684\u6d88\u8d39\u51fa\u73b0\u95ee\u9898\uff0c\u4e00\u76f4\u6ca1\u6709\u4ece Buffer \u4e2d\u53bb\u53d6\uff0c\u8fd9\u65f6\u5019\u63a5\u6536\u7aef\u5411\u53d1\u9001\u7aef\u53d1\u9001 ACK= 8\u3001window =0 \uff0c\u7531\u4e8e\u8fd9\u4e2a\u65f6\u5019 window = 0\uff0c\u53d1\u9001\u7aef\u662f\u4e0d\u80fd\u53d1\u9001\u4efb\u4f55\u6570\u636e\uff0c\u4e5f\u5c31\u4f1a\u4f7f\u53d1\u9001\u7aef\u7684\u53d1\u9001\u901f\u5ea6\u964d\u4e3a 0"),"\u3002\u8fd9\u4e2a\u65f6\u5019\u53d1\u9001\u7aef\u4e0d\u53d1\u9001\u4efb\u4f55\u6570\u636e\u4e86\uff0c\u63a5\u6536\u7aef\u4e5f\u4e0d\u8fdb\u884c\u4efb\u4f55\u7684\u53cd\u9988\u4e86\uff0c\u90a3\u4e48\u5982\u4f55\u77e5\u9053\u6d88\u8d39\u7aef\u53c8\u5f00\u59cb\u6d88\u8d39\u4e86\u5462\uff1f"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"\u53cd\u538b\u5b9e\u73b0",src:a(50409).Z,width:"656",height:"332"})),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"\u53cd\u538b\u5b9e\u73b0",src:a(96776).Z,width:"631",height:"322"})),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"\u53cd\u538b\u5b9e\u73b0",src:a(64493).Z,width:"655",height:"319"})),(0,r.kt)("p",null,"TCP \u5f53\u4e2d\u6709\u4e00\u4e2a ZeroWindowProbe \u7684\u673a\u5236\uff0c",(0,r.kt)("strong",{parentName:"p"},"\u53d1\u9001\u7aef\u4f1a\u5b9a\u671f\u7684\u53d1\u9001 1 \u4e2a\u5b57\u8282\u7684\u63a2\u6d4b\u6d88\u606f\uff0c\u8fd9\u65f6\u5019\u63a5\u6536\u7aef\u5c31\u4f1a\u628a window \u7684\u5927\u5c0f\u8fdb\u884c\u53cd\u9988"),"\u3002\u5f53\u63a5\u6536\u7aef\u7684\u6d88\u8d39\u6062\u590d\u4e86\u4e4b\u540e\uff0c\u63a5\u6536\u5230\u63a2\u6d4b\u6d88\u606f\u5c31\u53ef\u4ee5\u5c06 window \u53cd\u9988\u7ed9\u53d1\u9001\u7aef\u7aef\u4e86\u4ece\u800c\u6062\u590d\u6574\u4e2a\u6d41\u7a0b\u3002",(0,r.kt)("strong",{parentName:"p"},"TCP \u5c31\u662f\u901a\u8fc7\u8fd9\u6837\u4e00\u4e2a\u6ed1\u52a8\u7a97\u53e3\u7684\u673a\u5236\u5b9e\u73b0 feedback"),"\u3002"),(0,r.kt)("h2",{id:"flink-tcp-based-\u53cd\u538b\u673a\u5236before-v15"},"Flink TCP-based \u53cd\u538b\u673a\u5236\uff08before V1.5\uff09"),(0,r.kt)("h3",{id:"\u793a\u4f8bwindowwordcount"},"\u793a\u4f8b\uff1aWindowWordCount"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"\u53cd\u538b\u5b9e\u73b0",src:a(4156).Z,width:"762",height:"307"})),(0,r.kt)("p",null,"\u5927\u4f53\u7684\u903b\u8f91\u5c31\u662f\u4ece Socket \u91cc\u53bb\u63a5\u6536\u6570\u636e\uff0c\u6bcf 5s \u53bb\u8fdb\u884c\u4e00\u6b21 WordCount\uff0c\u5c06\u8fd9\u4e2a\u4ee3\u7801\u63d0\u4ea4\u540e\u5c31\u8fdb\u5165\u5230\u4e86\u7f16\u8bd1\u9636\u6bb5\u3002"),(0,r.kt)("h3",{id:"\u7f16\u8bd1\u9636\u6bb5\u751f\u6210-jobgraph"},"\u7f16\u8bd1\u9636\u6bb5\uff1a\u751f\u6210 JobGraph"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"\u53cd\u538b\u5b9e\u73b0",src:a(6017).Z,width:"1009",height:"394"})),(0,r.kt)("p",null,"\u8fd9\u65f6\u5019\u8fd8\u6ca1\u6709\u5411\u96c6\u7fa4\u53bb\u63d0\u4ea4\u4efb\u52a1\uff0c\u5728 Client \u7aef\u4f1a\u5c06 StreamGraph \u751f\u6210 JobGraph\uff0c",(0,r.kt)("strong",{parentName:"p"},"JobGraph \u5c31\u662f\u505a\u4e3a\u5411\u96c6\u7fa4\u63d0\u4ea4\u7684\u6700\u57fa\u672c\u7684\u5355\u5143"),"\u3002\u5728\u751f\u6210 J",(0,r.kt)("strong",{parentName:"p"},"obGrap \u7684\u65f6\u5019\u4f1a\u505a\u4e00\u4e9b\u4f18\u5316\uff0c\u5c06\u4e00\u4e9b\u6ca1\u6709 Shuffle \u673a\u5236\u7684\u8282\u70b9\u8fdb\u884c\u5408\u5e76"),"\u3002\u6709\u4e86 JobGraph \u540e\u5c31\u4f1a\u5411\u96c6\u7fa4\u8fdb\u884c\u63d0\u4ea4\uff0c\u8fdb\u5165\u8fd0\u884c\u9636\u6bb5\u3002"),(0,r.kt)("h3",{id:"\u8fd0\u884c\u9636\u6bb5\u8c03\u5ea6-executiongraph"},"\u8fd0\u884c\u9636\u6bb5\uff1a\u8c03\u5ea6 ExecutionGraph"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"\u53cd\u538b\u5b9e\u73b0",src:a(53816).Z,width:"1108",height:"688"})),(0,r.kt)("p",null,"JobGraph \u63d0\u4ea4\u5230\u96c6\u7fa4\u540e\u4f1a\u751f\u6210 ExecutionGraph \uff0c\u8fd9\u65f6\u5019\u5c31\u5df2\u7ecf\u5177\u5907\u57fa\u672c\u7684\u6267\u884c\u4efb\u52a1\u7684\u96cf\u5f62\u4e86\uff0c",(0,r.kt)("strong",{parentName:"p"},"\u628a\u6bcf\u4e2a\u4efb\u52a1\u62c6\u89e3\u6210\u4e86\u4e0d\u540c\u7684 SubTask"),"\uff0c\u4e0a\u56fe ExecutionGraph \u4e2d\u7684 ",(0,r.kt)("strong",{parentName:"p"},"Intermediate Result Partition \u5c31\u662f\u7528\u4e8e\u53d1\u9001\u6570\u636e\u7684\u6a21\u5757"),"\uff0c\u6700\u7ec8\u4f1a\u5c06 ExecutionGraph \u4ea4\u7ed9 JobManager \u7684\u8c03\u5ea6\u5668\uff0c\u5c06\u6574\u4e2a ExecutionGraph \u8c03\u5ea6\u8d77\u6765\u3002"),(0,r.kt)("p",null,"\u7136\u540e\u6211\u4eec\u6982\u5ff5\u5316\u8fd9\u6837\u4e00\u5f20\u7269\u7406\u6267\u884c\u56fe\uff0c",(0,r.kt)("strong",{parentName:"p"},"\u53ef\u4ee5\u770b\u5230\u6bcf\u4e2a Task \u5728\u63a5\u6536\u6570\u636e\u65f6\u90fd\u4f1a\u901a\u8fc7\u8fd9\u6837\u4e00\u4e2a InputGate \u53ef\u4ee5\u8ba4\u4e3a\u662f\u8d1f\u8d23\u63a5\u6536\u6570\u636e\u7684"),"\uff0c\u518d\u5f80\u524d\u6709\u8fd9\u6837\u4e00\u4e2a ResultPartition \u8d1f\u8d23\u53d1\u9001\u6570\u636e\uff0c",(0,r.kt)("strong",{parentName:"p"},"\u5728 ResultPartition \u53c8\u4f1a\u53bb\u505a\u5206\u533a\u8ddf\u4e0b\u6e38\u7684 Task \u4fdd\u6301\u4e00\u81f4\uff0c\u5c31\u5f62\u6210\u4e86 ResultSubPartition \u548c InputChannel \u7684\u5bf9\u5e94\u5173\u7cfb"),"\u3002\u8fd9\u5c31\u662f\u4ece\u903b\u8f91\u5c42\u4e0a\u6765\u770b\u7684\u7f51\u7edc\u4f20\u8f93\u7684\u901a\u9053\uff0c\u57fa\u4e8e\u8fd9\u4e48\u4e00\u4e2a\u6982\u5ff5\u6211\u4eec\u53ef\u4ee5\u5c06\u53cd\u538b\u7684\u95ee\u9898\u8fdb\u884c\u62c6\u89e3\u3002"),(0,r.kt)("h3",{id:"\u95ee\u9898\u62c6\u89e3\u53cd\u538b\u4f20\u64ad\u4e24\u4e2a\u9636\u6bb5"},"\u95ee\u9898\u62c6\u89e3\uff1a\u53cd\u538b\u4f20\u64ad\u4e24\u4e2a\u9636\u6bb5"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"\u53cd\u538b\u5b9e\u73b0",src:a(49059).Z,width:"993",height:"387"})),(0,r.kt)("p",null,"\u53cd\u538b\u7684\u4f20\u64ad\u5b9e\u9645\u4e0a\u662f\u5206\u4e3a\u4e24\u4e2a\u9636\u6bb5\u7684\uff0c\u5bf9\u5e94\u7740\u4e0a\u9762\u7684\u6267\u884c\u56fe\uff0c\u6211\u4eec\u4e00\u5171\u6d89\u53ca 3 \u4e2a TaskManager\uff0c",(0,r.kt)("strong",{parentName:"p"},"\u5728\u6bcf\u4e2a TaskManager \u91cc\u9762\u90fd\u6709\u76f8\u5e94\u7684 Task \u5728\u6267\u884c\uff0c\u8fd8\u6709\u8d1f\u8d23\u63a5\u6536\u6570\u636eInputGate\uff0c\u53d1\u9001\u6570\u636e\u7684 ResultPartition"),"\uff0c\u8fd9\u5c31\u662f\u4e00\u4e2a\u6700\u57fa\u672c\u7684\u6570\u636e\u4f20\u8f93\u7684\u901a\u9053\u3002\u5728\u8fd9\u65f6\u5019\u5047\u8bbe\u6700\u4e0b\u6e38\u7684 Task \uff08Sink\uff09\u51fa\u73b0\u4e86\u95ee\u9898\uff0c\u5904\u7406\u901f\u5ea6\u964d\u4e86\u4e0b\u6765\u8fd9\u65f6\u5019\u662f\u5982\u4f55\u5c06\u8fd9\u4e2a\u538b\u529b\u53cd\u5411\u4f20\u64ad\u56de\u53bb\u5462\uff1f\u8fd9\u65f6\u5019\u5c31\u5206\u4e3a\u4e24\u79cd\u60c5\u51b5\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u8de8 TaskManager \uff0c\u53cd\u538b\u5982\u4f55\u4ece InputGate \u4f20\u64ad\u5230 ResultPartition\u3002"),(0,r.kt)("li",{parentName:"ul"},"TaskManager \u5185\uff0c\u53cd\u538b\u5982\u4f55\u4ece ResultPartition \u4f20\u64ad\u5230 InputGate\u3002")),(0,r.kt)("h3",{id:"\u8de8-taskmanager-\u6570\u636e\u4f20\u8f93"},"\u8de8 TaskManager \u6570\u636e\u4f20\u8f93"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"\u53cd\u538b\u5b9e\u73b0",src:a(70871).Z,width:"982",height:"447"})),(0,r.kt)("p",null,"\u524d\u9762\u63d0\u5230\uff0c\u53d1\u9001\u6570\u636e\u9700\u8981 ResultPartition\uff0c",(0,r.kt)("strong",{parentName:"p"},"\u5728\u6bcf\u4e2a ResultPartition \u91cc\u9762\u4f1a\u6709\u5206\u533a ResultSubPartition\uff0c\u4e2d\u95f4\u8fd8\u4f1a\u6709\u4e00\u4e9b\u5173\u4e8e\u5185\u5b58\u7ba1\u7406\u7684 Buffer"),"\u3002\u5bf9\u4e8e\u4e00\u4e2a TaskManager ",(0,r.kt)("strong",{parentName:"p"},"\u6765\u8bf4\u4f1a\u6709\u4e00\u4e2a\u7edf\u4e00\u7684 Network BufferPool \u88ab\u6240\u6709\u7684 Task \u5171\u4eab"),"\uff0c\u5728\u521d\u59cb\u5316\u65f6\u4f1a\u4ece Off-heap Memory \u4e2d\u7533\u8bf7\u5185\u5b58\uff0c\u7533\u8bf7\u5230\u5185\u5b58\u7684\u540e\u7eed\u5185\u5b58\u7ba1\u7406\u5c31\u662f\u540c\u6b65 ",(0,r.kt)("strong",{parentName:"p"},"Network BufferPool \u6765\u8fdb\u884c\u7684\uff0c\u4e0d\u9700\u8981\u4f9d\u8d56 JVM GC \u7684\u673a\u5236\u53bb\u91ca\u653e\u3002\u6709\u4e86 Network BufferPool \u4e4b\u540e\u53ef\u4ee5\u4e3a\u6bcf\u4e00\u4e2a ResultSubPartition \u521b\u5efa Local BufferPool"),"\u3002"),(0,r.kt)("p",null,"\u5982\u4e0a\u56fe\u5de6\u8fb9\u7684 TaskManager \u7684 Record Writer \u5199\u4e86 <1\uff0c2> \u8fd9\u4e2a\u4e24\u4e2a\u6570\u636e\u8fdb\u6765\uff0c\u56e0\u4e3a ResultSubPartition \u521d\u59cb\u5316\u7684\u65f6\u5019\u4e3a\u7a7a\uff0c\u6ca1\u6709 Buffer \u7528\u6765\u63a5\u6536\uff0c\u5c31\u4f1a\u5411 Local BufferPool \u7533\u8bf7\u5185\u5b58\uff0c",(0,r.kt)("strong",{parentName:"p"},"\u8fd9\u65f6 Local BufferPool \u4e5f\u6ca1\u6709\u8db3\u591f\u7684\u5185\u5b58\u4e8e\u662f\u5c06\u8bf7\u6c42\u8f6c\u5230 Network BufferPool"),"\uff0c",(0,r.kt)("strong",{parentName:"p"},"\u6700\u7ec8\u5c06\u7533\u8bf7\u5230\u7684 Buffer \u6309\u539f\u94fe\u8def\u8fd4\u8fd8\u7ed9 ResultSubPartition\uff0c<1\uff0c2> \u8fd9\u4e2a\u4e24\u4e2a\u6570\u636e\u5c31\u53ef\u4ee5\u88ab\u5199\u5165\u4e86"),"\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u4e4b\u540e\u4f1a\u5c06 ResultSubPartition \u7684 Buffer \u62f7\u8d1d\u5230 Netty \u7684 Buffer \u5f53\u4e2d\u6700\u7ec8\u62f7\u8d1d\u5230 Socket \u7684 Buffer \u5c06\u6d88\u606f\u53d1\u9001\u51fa\u53bb"),"\u3002\u7136\u540e\u63a5\u6536\u7aef\u6309\u7167\u7c7b\u4f3c\u7684\u673a\u5236\u53bb\u5904\u7406\u5c06\u6d88\u606f\u6d88\u8d39\u6389\u3002\u63a5\u4e0b\u6765\u6211\u4eec\u6765\u6a21\u62df\u4e0a\u4e0b\u6e38\u5904\u7406\u901f\u5ea6\u4e0d\u5339\u914d\u7684\u573a\u666f\uff0c\u53d1\u9001\u7aef\u7684\u901f\u7387\u4e3a 2\uff0c\u63a5\u6536\u7aef\u7684\u901f\u7387\u4e3a 1\uff0c\u770b\u4e00\u4e0b\u53cd\u538b\u7684\u8fc7\u7a0b\u662f\u600e\u6837\u7684\u3002"),(0,r.kt)("h3",{id:"\u8de8-taskmanager-\u53cd\u538b\u8fc7\u7a0b"},"\u8de8 TaskManager \u53cd\u538b\u8fc7\u7a0b"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"\u53cd\u538b\u5b9e\u73b0",src:a(64153).Z,width:"982",height:"457"})),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u56e0\u4e3a\u901f\u5ea6\u4e0d\u5339\u914d\u5c31\u4f1a\u5bfc\u81f4\u4e00\u6bb5\u65f6\u95f4\u540e InputChannel \u7684 Buffer \u88ab\u7528\u5c3d"),"\uff0c\u4e8e\u662f\u4ed6\u4f1a\u5411 Local BufferPool \u7533\u8bf7\u65b0\u7684 Buffer \uff0c\u8fd9\u65f6\u5019\u53ef\u4ee5\u770b\u5230 Local BufferPool \u4e2d\u7684\u4e00\u4e2a Buffer \u5c31\u4f1a\u88ab\u6807\u8bb0\u4e3a Used\u3002"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"\u53cd\u538b\u5b9e\u73b0",src:a(41111).Z,width:"990",height:"456"})),(0,r.kt)("p",null,"\u53d1\u9001\u7aef\u8fd8\u5728\u6301\u7eed\u4ee5\u4e0d\u5339\u914d\u7684\u901f\u5ea6\u53d1\u9001\u6570\u636e\uff0c",(0,r.kt)("strong",{parentName:"p"},"\u7136\u540e\u5c31\u4f1a\u5bfc\u81f4 InputChannel \u5411 Local BufferPool \u7533\u8bf7 Buffer \u7684\u65f6\u5019\u53d1\u73b0\u6ca1\u6709\u53ef\u7528\u7684 Buffer \u4e86"),"\uff0c\u8fd9\u65f6\u5019\u5c31\u53ea\u80fd\u5411 Network BufferPool \u53bb\u7533\u8bf7\uff0c",(0,r.kt)("strong",{parentName:"p"},"\u5f53\u7136\u6bcf\u4e2a Local BufferPool \u90fd\u6709\u6700\u5927\u7684\u53ef\u7528\u7684 Buffer"),"\uff0c\u9632\u6b62\u4e00\u4e2a Local BufferPool \u628a Network BufferPool \u8017\u5c3d\u3002\u8fd9\u65f6\u5019\u770b\u5230Network BufferPool \u8fd8\u662f\u6709\u53ef\u7528\u7684 Buffer \u53ef\u4ee5\u5411\u5176\u7533\u8bf7\u3002"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"\u53cd\u538b\u5b9e\u73b0",src:a(58413).Z,width:"872",height:"408"})),(0,r.kt)("p",null,"\u4e00\u6bb5\u65f6\u95f4\u540e\uff0c",(0,r.kt)("strong",{parentName:"p"},"\u53d1\u73b0 Network BufferPool \u6ca1\u6709\u53ef\u7528\u7684 Buffer\uff0c\u6216\u662f Local BufferPool \u7684\u6700\u5927\u53ef\u7528 Buffer \u5230\u4e86\u4e0a\u9650\u65e0\u6cd5\u5411 Network BufferPool \u7533\u8bf7"),"\uff0c\u6ca1\u6709\u529e\u6cd5\u53bb\u8bfb\n\u53d6\u65b0\u7684\u6570\u636e\uff0c",(0,r.kt)("strong",{parentName:"p"},"\u8fd9\u65f6 Netty AutoRead \u5c31\u4f1a\u88ab\u7981\u6389\uff0cNetty \u5c31\u4e0d\u4f1a\u4ece Socket \u7684 Buffer \u4e2d\u8bfb\u53d6\u6570\u636e\u4e86"),"\u3002"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"\u53cd\u538b\u5b9e\u73b0",src:a(19108).Z,width:"876",height:"402"})),(0,r.kt)("p",null,"\u663e\u7136\uff0c\u518d\u8fc7\u4e0d\u4e45 Socket \u7684 Buffer \u4e5f\u88ab\u7528\u5c3d\uff0c",(0,r.kt)("strong",{parentName:"p"},"\u8fd9\u65f6\u5c31\u4f1a\u5c06 Window = 0 \u53d1\u9001\u7ed9\u53d1\u9001\u7aef\uff08\u524d\u6587\u63d0\u5230\u7684 TCP \u6ed1\u52a8\u7a97\u53e3\u7684\u673a\u5236\uff09"),"\u3002\u8fd9\u65f6\u53d1\u9001\u7aef\u7684 Socket \u5c31\u4f1a\u505c\u6b62\u53d1\u9001\u3002"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"\u53cd\u538b\u5b9e\u73b0",src:a(82744).Z,width:"995",height:"458"})),(0,r.kt)("p",null,"\u5f88\u5feb\u53d1\u9001\u7aef\u7684 Socket \u7684 Buffer \u4e5f\u88ab\u7528\u5c3d\uff0c",(0,r.kt)("strong",{parentName:"p"},"Netty \u68c0\u6d4b\u5230 Socket \u65e0\u6cd5\u5199\u4e86\u4e4b\u540e\u5c31\u4f1a\u505c\u6b62\u5411 Socket \u5199\u6570\u636e"),"\u3002"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"\u53cd\u538b\u5b9e\u73b0",src:a(3934).Z,width:"1144",height:"512"})),(0,r.kt)("p",null,"Netty \u505c\u6b62\u5199\u4e86\u4e4b\u540e\uff0c\u6240\u6709\u7684\u6570\u636e\u5c31\u4f1a\u963b\u585e\u5728 Netty \u7684 Buffer \u5f53\u4e2d\u4e86\uff0c",(0,r.kt)("strong",{parentName:"p"},"\u4f46\u662f Netty \u7684 Buffer \u662f\u65e0\u754c\u7684\uff0c\u53ef\u4ee5\u901a\u8fc7 Netty \u7684\u6c34\u4f4d\u673a\u5236\u4e2d\u7684 high watermark \u63a7\u5236\u4ed6\u7684\u4e0a\u754c\u3002\u5f53\u8d85\u8fc7\u4e86 high watermark\uff0cNetty \u5c31\u4f1a\u5c06\u5176 channel \u7f6e\u4e3a\u4e0d\u53ef\u5199\uff0cResultSubPartition \u5728\u5199\u4e4b\u524d\u90fd\u4f1a\u68c0\u6d4b Netty \u662f\u5426\u53ef\u5199\uff0c\u53d1\u73b0\u4e0d\u53ef\u5199\u5c31\u4f1a\u505c\u6b62\u5411 Netty \u5199\u6570\u636e"),"\u3002"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"\u53cd\u538b\u5b9e\u73b0",src:a(68312).Z,width:"832",height:"371"})),(0,r.kt)("p",null,"\u8fd9\u65f6\u5019\u6240\u6709\u7684\u538b\u529b\u90fd\u6765\u5230\u4e86 ResultSubPartition\uff0c\u548c\u63a5\u6536\u7aef\u4e00\u6837\u4ed6\u4f1a\u4e0d\u65ad\u7684\u5411 Local BufferPool \u548c Network BufferPool \u7533\u8bf7\u5185\u5b58\u3002"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"\u53cd\u538b\u5b9e\u73b0",src:a(53378).Z,width:"746",height:"341"})),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Local BufferPool \u548c Network BufferPool \u90fd\u7528\u5c3d\u540e\u6574\u4e2a Operator \u5c31\u4f1a\u505c\u6b62\u5199\u6570\u636e\uff0c\u8fbe\u5230\u8de8 TaskManager \u7684\u53cd\u538b"),"\u3002"),(0,r.kt)("h3",{id:"taskmanager-\u5185\u53cd\u538b\u8fc7\u7a0b"},"TaskManager \u5185\u53cd\u538b\u8fc7\u7a0b"),(0,r.kt)("p",null,"\u4e86\u89e3\u4e86\u8de8 TaskManager \u53cd\u538b\u8fc7\u7a0b\u540e\u518d\u6765\u770b TaskManager \u5185\u53cd\u538b\u8fc7\u7a0b\u5c31\u66f4\u597d\u7406\u89e3\u4e86\uff0c",(0,r.kt)("strong",{parentName:"p"},"\u4e0b\u6e38\u7684 TaskManager \u53cd\u538b\u5bfc\u81f4\u672c TaskManager \u7684 ResultSubPartition \u65e0\u6cd5\u7ee7\u7eed\u5199\u5165\u6570\u636e\uff0c\u4e8e\u662f Record Writer \u7684\u5199\u4e5f\u88ab\u963b\u585e\u4f4f\u4e86"),"\uff0c\u56e0\u4e3a Operator \u9700\u8981\u6709\u8f93\u5165\u624d\u80fd\u6709\u8ba1\u7b97\u540e\u7684\u8f93\u51fa\uff0c\u8f93\u5165\u8ddf\u8f93\u51fa\u90fd\u662f\u5728\u540c\u4e00\u7ebf\u7a0b\u6267\u884c\uff0c ",(0,r.kt)("strong",{parentName:"p"},"Record Writer \u963b\u585e\u4e86\uff0cRecord Reader \u4e5f\u505c\u6b62\u4ece InputChannel \u8bfb\u6570\u636e\uff0c\u8fd9\u65f6\u4e0a\u6e38\u7684 TaskManager \u8fd8\u5728\u4e0d\u65ad\u5730\u53d1\u9001\u6570\u636e\uff0c\u6700\u7ec8\u5c06\u8fd9\u4e2a TaskManager \u7684 Buffer \u8017\u5c3d"),"\u3002\u5177\u4f53\u6d41\u7a0b\u53ef\u4ee5\u53c2\u8003\u4e0b\u56fe\uff0c\u8fd9\u5c31\u662f TaskManager \u5185\u7684\u53cd\u538b\u8fc7\u7a0b\u3002"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"\u53cd\u538b\u5b9e\u73b0",src:a(26973).Z,width:"670",height:"382"})),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"\u53cd\u538b\u5b9e\u73b0",src:a(41580).Z,width:"654",height:"381"})),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"\u53cd\u538b\u5b9e\u73b0",src:a(556).Z,width:"666",height:"380"})),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"\u53cd\u538b\u5b9e\u73b0",src:a(48716).Z,width:"608",height:"320"})),(0,r.kt)("h2",{id:"flink-credit-based-\u53cd\u538b\u673a\u5236since-v15"},"Flink Credit-based \u53cd\u538b\u673a\u5236\uff08since V1.5\uff09"),(0,r.kt)("h3",{id:"tcp-based-\u53cd\u538b\u7684\u5f0a\u7aef"},"TCP-based \u53cd\u538b\u7684\u5f0a\u7aef"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"\u53cd\u538b\u5b9e\u73b0",src:a(94022).Z,width:"986",height:"447"})),(0,r.kt)("p",null,"\u5728\u4ecb\u7ecd Credit-based \u53cd\u538b\u673a\u5236\u4e4b\u524d\uff0c\u5148\u5206\u6790\u4e0b TCP \u53cd\u538b\u6709\u54ea\u4e9b\u5f0a\u7aef\u3002"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5728\u4e00\u4e2a TaskManager \u4e2d\u53ef\u80fd\u8981\u6267\u884c\u591a\u4e2a Task\uff0c",(0,r.kt)("strong",{parentName:"p"},"\u5982\u679c\u591a\u4e2a Task \u7684\u6570\u636e\u6700\u7ec8\u90fd\u8981\u4f20\u8f93\u5230\u4e0b\u6e38\u7684\u540c\u4e00\u4e2a TaskManager \u5c31\u4f1a\u590d\u7528\u540c\u4e00\u4e2a Socket \u8fdb\u884c\u4f20\u8f93"),"\uff0c\u8fd9\u4e2a\u65f6\u5019\u5982\u679c\u5355\u4e2a Task \u4ea7\u751f\u53cd\u538b\uff0c",(0,r.kt)("strong",{parentName:"p"},"\u5c31\u4f1a\u5bfc\u81f4\u590d\u7528\u7684 Socket \u963b\u585e\uff0c\u5176\u4f59\u7684 Task \u4e5f\u65e0\u6cd5\u4f7f\u7528\u4f20\u8f93"),"\uff0ccheckpoint barrier \u4e5f\u65e0\u6cd5\u53d1\u51fa\u5bfc\u81f4\u4e0b\u6e38\u6267\u884ccheckpoint \u7684\u5ef6\u8fdf\u589e\u5927\u3002")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u4f9d\u8d56\u6700\u5e95\u5c42\u7684 TCP \u53bb\u505a\u6d41\u63a7\uff0c\u4f1a\u5bfc\u81f4\u53cd\u538b\u4f20\u64ad\u8def\u5f84\u592a\u957f\uff0c\u5bfc\u81f4\u751f\u6548\u7684\u5ef6\u8fdf\u6bd4\u8f83\u5927\u3002"))),(0,r.kt)("h3",{id:"\u5f15\u5165-credit-based-\u53cd\u538b"},"\u5f15\u5165 Credit-based \u53cd\u538b"),(0,r.kt)("p",null,"\u8fd9\u4e2a\u673a\u5236\u7b80\u5355\u7684\u7406\u89e3\u8d77\u6765\u5c31\u662f\u5728 Flink \u5c42\u9762\u5b9e\u73b0\u7c7b\u4f3c TCP \u6d41\u63a7\u7684\u53cd\u538b\u673a\u5236\u6765\u89e3\u51b3\u4e0a\u8ff0\u7684\u5f0a\u7aef\uff0c",(0,r.kt)("strong",{parentName:"p"},"Credit \u53ef\u4ee5\u7c7b\u6bd4\u4e3a TCP \u7684 Window \u673a\u5236"),"\u3002"),(0,r.kt)("h3",{id:"credit-based-\u53cd\u538b\u8fc7\u7a0b"},"Credit-based \u53cd\u538b\u8fc7\u7a0b"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"\u53cd\u538b\u5b9e\u73b0",src:a(78595).Z,width:"994",height:"469"})),(0,r.kt)("p",null,"\u5982\u56fe\u6240\u793a\u5728 Flink \u5c42\u9762\u5b9e\u73b0\u53cd\u538b\u673a\u5236\uff0c",(0,r.kt)("strong",{parentName:"p"},"\u5c31\u662f\u6bcf\u4e00\u6b21 ResultSubPartition \u5411 InputChannel \u53d1\u9001\u6d88\u606f\u7684\u65f6\u5019\u90fd\u4f1a\u53d1\u9001\u4e00\u4e2a backlog size \u544a\u8bc9\u4e0b\u6e38\u51c6\u5907\u53d1\u9001\u591a\u5c11\u6d88\u606f\uff0c\u4e0b\u6e38\u5c31\u4f1a\u53bb\u8ba1\u7b97\u6709\u591a\u5c11\u7684 Buffer \u53bb\u63a5\u6536\u6d88\u606f\uff0c\u7b97\u5b8c\u4e4b\u540e\u5982\u679c\u6709\u5145\u8db3\u7684 Buffer \u5c31\u4f1a\u8fd4\u8fd8\u7ed9\u4e0a\u6e38\u4e00\u4e2a Credit \u544a\u77e5\u4ed6\u53ef\u4ee5\u53d1\u9001\u6d88\u606f"),"\uff08\u56fe\u4e0a\u4e24\u4e2a ResultSubPartition \u548c InputChannel \u4e4b\u95f4\u662f\u865a\u7ebf\u662f\u56e0\u4e3a\u6700\u7ec8\u8fd8\u662f\u8981\u901a\u8fc7 Netty \u548c Socket \u53bb\u901a\u4fe1\uff09\uff0c\u4e0b\u9762\u6211\u4eec\u770b\u4e00\u4e2a\u5177\u4f53\u793a\u4f8b\u3002"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"\u53cd\u538b\u5b9e\u73b0",src:a(74311).Z,width:"988",height:"445"})),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u5047\u8bbe\u6211\u4eec\u4e0a\u4e0b\u6e38\u7684\u901f\u5ea6\u4e0d\u5339\u914d\uff0c\u4e0a\u6e38\u53d1\u9001\u901f\u7387\u4e3a 2\uff0c\u4e0b\u6e38\u63a5\u6536\u901f\u7387\u4e3a 1"),"\uff0c\u53ef\u4ee5\u770b\u5230\u56fe\u4e0a\u5728 ResultSubPartition \u4e2d\u7d2f\u79ef\u4e86\u4e24\u6761\u6d88\u606f\uff0c10 \u548c 11\uff0c backlog \u5c31\u4e3a 2\uff0c\u8fd9\u65f6\u5c31\u4f1a\u5c06\u53d1\u9001\u7684\u6570\u636e <8,9> \u548c backlog = 2 \u4e00\u540c\u53d1\u9001\u7ed9\u4e0b\u6e38\u3002\u4e0b\u6e38\u6536\u5230\u4e86\u4e4b\u540e\u5c31\u4f1a\u53bb\u8ba1\u7b97\u662f\u5426\u6709 2 \u4e2a Buffer \u53bb\u63a5\u6536\uff0c\u53ef\u4ee5\u770b\u5230 InputChannel \u4e2d\u5df2\u7ecf\u4e0d\u8db3\u4e86\u8fd9\u65f6\u5c31\u4f1a\u4ece Local BufferPool \u548c Network BufferPool \u7533\u8bf7\uff0c\u597d\u5728\u8fd9\u4e2a\u65f6\u5019 Buffer \u8fd8\u662f\u53ef\u4ee5\u7533\u8bf7\u5230\u7684\u3002"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"\u53cd\u538b\u5b9e\u73b0",src:a(67889).Z,width:"863",height:"389"})),(0,r.kt)("p",null,"\u8fc7\u4e86\u4e00\u6bb5\u65f6\u95f4\u540e\u7531\u4e8e\u4e0a\u6e38\u7684\u53d1\u9001\u901f\u7387\u8981\u5927\u4e8e\u4e0b\u6e38\u7684\u63a5\u53d7\u901f\u7387\uff0c",(0,r.kt)("strong",{parentName:"p"},"\u4e0b\u6e38\u7684 TaskManager \u7684 Buffer \u5df2\u7ecf\u5230\u8fbe\u4e86\u7533\u8bf7\u4e0a\u9650\uff0c\u8fd9\u65f6\u5019\u4e0b\u6e38\u5c31\u4f1a\u5411\u4e0a\u6e38\u8fd4\u56de Credit = 0"),"\uff0cResultSubPartition \u63a5\u6536\u5230\u4e4b\u540e\u5c31\u4e0d\u4f1a\u5411 Netty \u53bb\u4f20\u8f93\u6570\u636e\uff0c\u4e0a\u6e38 TaskManager \u7684 Buffer \u4e5f\u5f88\u5feb\u8017\u5c3d\uff0c\u8fbe\u5230\u53cd\u538b\u7684\u6548\u679c\uff0c",(0,r.kt)("strong",{parentName:"p"},"\u8fd9\u6837\u5728 ResultSubPartition \u5c42\u5c31\u80fd\u611f\u77e5\u5230\u53cd\u538b\uff0c\u4e0d\u7528\u901a\u8fc7 Socket \u548c Netty \u4e00\u5c42\u5c42\u5730\u5411\u4e0a\u53cd\u9988\uff0c\u964d\u4f4e\u4e86\u53cd\u538b\u751f\u6548\u7684\u5ef6\u8fdf"),"\u3002\u540c\u65f6\u4e5f\u4e0d\u4f1a\u5c06 Socket \u53bb\u963b\u585e\uff0c",(0,r.kt)("strong",{parentName:"p"},"\u89e3\u51b3\u4e86\u7531\u4e8e\u4e00\u4e2a Task \u53cd\u538b\u5bfc\u81f4 TaskManager \u548c TaskManager \u4e4b\u95f4\u7684 Socket \u963b\u585e\u7684\u95ee\u9898\u3002")),(0,r.kt)("h2",{id:"\u603b\u7ed3\u4e0e\u601d\u8003"},"\u603b\u7ed3\u4e0e\u601d\u8003"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Credit-based \u53cd\u538b\u662f TCP-based \u53cd\u538b\u7684\u62bd\u8c61\u5b9e\u73b0\uff0c\u8fbe\u5230\u4e86\u66f4\u52a0\u7ec6\u7c92\u5ea6\u7684\u53cd\u538b\u63a7\u5236\u3002"),(0,r.kt)("li",{parentName:"ol"},"\u7f51\u7edc\u6d41\u63a7\u662f\u4e3a\u4e86\u5728\u4e0a\u4e0b\u6e38\u901f\u5ea6\u4e0d\u5339\u914d\u7684\u60c5\u51b5\u4e0b\uff0c\u9632\u6b62\u4e0b\u6e38\u51fa\u73b0\u8fc7\u8f7d\u3002"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"\u7f51\u7edc\u6d41\u63a7\u6709\u9759\u6001\u9650\u901f\u548c\u52a8\u6001\u53cd\u538b\u4e24\u79cd\u624b\u6bb5"),"\u3002"),(0,r.kt)("li",{parentName:"ol"},"Flink 1.5 \u4e4b\u524d\u662f\u57fa\u4e8e TCP \u6d41\u63a7 + bounded buffer \u5b9e\u73b0\u53cd\u538b\u3002"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Flink 1.5 \u4e4b\u540e\u5b9e\u73b0\u4e86\u81ea\u5df1\u6258\u7ba1\u7684 credit - based \u6d41\u63a7\u673a\u5236\uff0c\u5728\u5e94\u7528\u5c42\u6a21\u62df TCP \u7684\u6d41\u63a7\u673a\u5236"),"\u3002")),(0,r.kt)("p",null,"\u601d\u8003\uff1a\u6709\u4e86\u52a8\u6001\u53cd\u538b\uff0c\u9759\u6001\u9650\u901f\u662f\u4e0d\u662f\u5b8c\u5168\u6ca1\u6709\u4f5c\u7528\u4e86\uff1f"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"\u53cd\u538b\u5b9e\u73b0",src:a(98844).Z,width:"1015",height:"365"})),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u5b9e\u9645\u4e0a\u52a8\u6001\u53cd\u538b\u4e0d\u662f\u4e07\u80fd\u7684"),"\uff0c\u6211\u4eec\u6d41\u8ba1\u7b97\u7684\u7ed3\u679c\u6700\u7ec8\u662f\u8981\u8f93\u51fa\u5230\u4e00\u4e2a\u5916\u90e8\u7684\u5b58\u50a8\uff08Storage\uff09\uff0c",(0,r.kt)("strong",{parentName:"p"},"\u5916\u90e8\u6570\u636e\u5b58\u50a8\u5230 Sink \u7aef\u7684\u53cd\u538b\u662f\u4e0d\u4e00\u5b9a\u4f1a\u89e6\u53d1\u7684"),"\uff0c\u8fd9\u8981\u53d6\u51b3\u4e8e\u5916\u90e8\u5b58\u50a8\u7684\u5b9e\u73b0\uff0c",(0,r.kt)("strong",{parentName:"p"},"\u50cf Kafka \u8fd9\u6837\u662f\u5b9e\u73b0\u4e86\u9650\u6d41\u9650\u901f\u7684\u6d88\u606f\u4e2d\u95f4\u4ef6\u53ef\u4ee5\u901a\u8fc7\u534f\u8bae\u5c06\u53cd\u538b\u53cd\u9988\u7ed9 Sink \u7aef"),"\uff0c\u4f46\u662f\u50cf ES \u65e0\u6cd5\u5c06\u53cd\u538b\u8fdb\u884c\u4f20\u64ad\u53cd\u9988\u7ed9 Sink \u7aef\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e0b\u4e3a\u4e86\u9632\u6b62\u5916\u90e8\u5b58\u50a8\u5728\u5927\u7684\u6570\u636e\u91cf\u4e0b\u88ab\u6253\u7206\uff0c",(0,r.kt)("strong",{parentName:"p"},"\u6211\u4eec\u5c31\u53ef\u4ee5\u901a\u8fc7\u9759\u6001\u9650\u901f\u7684\u65b9\u5f0f\u5728 Source \u7aef\u53bb\u505a\u9650\u6d41"),"\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u6240\u4ee5\u8bf4\u52a8\u6001\u53cd\u538b\u5e76\u4e0d\u80fd\u5b8c\u5168\u66ff\u4ee3\u9759\u6001\u9650\u901f\u7684\uff0c\u9700\u8981\u6839\u636e\u5408\u9002\u7684\u573a\u666f\u53bb\u9009\u62e9\u5904\u7406\u65b9\u6848\u3002")))}k.isMDXComponent=!0},58413:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/0129a70d4ca505ce98cf8c693d93dab-6a7928a289d2d7effe1d08c304827b78.png"},19108:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/02331c2215957727ae933eead414804-b880ff87148f6d175dd1a118257dfed0.png"},74088:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/09d86b57d9e6fa0f0e9e52d8448bae9-fb94252dc559d705bcd5ba8994c33512.png"},4156:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/1e99db234628407be700403a2446285-3b466c793e0d5f261d644ad80b121dca.png"},67889:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/31041594fb4fdc9a2c7f15f25ba3889-a7634cc0d2bd9e81480b29e6e59be579.png"},98844:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/36641b4c17eec95fae8c484e25e584b-4616aae9afaf7ae6edf4cf7488e7c591.png"},82744:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/3eb7225f72cb6c5780255e0767c7495-522a8e18e24ea75a5efe52c71e487666.png"},70871:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/46ed54f1a2e2d5fbdc815c14ef57ff9-4a932f5671b1670fa41552567c8febff.png"},181:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/46fc4e9daae3e0beb3cc614aa9b72b2-7e28662bec4feaef63055c7aa7d2cce2.png"},78595:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/5114e1cc6bb31feaa9b727a7d2181d4-ea7a37b4c4ce6d939b0559f18ca47571.png"},96776:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/57519bddde5f4182750620cd2e13527-712444fabb4d015d5ae79f9c6f661c95.png"},64153:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/59613be253441a340f260eaa807e261-06240a5897a5900087563a3644078f35.png"},95746:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/62fd0b4bf27ef2aae988426c9213d25-2c295a84d585859e5ecc526e11c58107.png"},26973:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/6af7eda70ab164f5d29eeb80af9bcd9-044043ba1e7ce3ab85247f59ed0f7daa.png"},53816:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/6d11b6fbceb0bb44a4440dfef19d469-9459af71b9e68cc22bea5c4bd63935df.png"},53378:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/6ea5f87a1b0138fc8e4ec57fc3d5a1d-fca4c531992135c623094c4671c48346.png"},3934:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/6fdc054e640566f966a7055d6dc24f8-47c66790482c182948b13974f985f646.png"},49059:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/781a920bc3c0dfe3694423566467760-3da078e98cf08abb392a87a37ccb3aa9.png"},41111:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/7af6c4180431c969ee3367c9a9add75-8ef3ce837525db3e2b33213add843044.png"},33539:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/7b31485a910a4cca150d95666a401df-346481ec34a27ba4a420f78c972a84e7.png"},74311:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/7f86ccd0f392eaf53c9324198a0fbad-0fc34301cdc11e6d15a495ec0e31d507.png"},68832:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/8174871d173e717bfdc0b3e5d65a8d2-8ec2d22e7ecc905d36f25fa08ad561bb.png"},61300:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/87b91b28dfa1f7e421cc347332a104f-ba38c2b709530070b4e430f5453b7ef8.png"},88906:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/8aa24a1d75141055ca0b4a99657d350-a551e546e6d01a1bc4072042550c98f1.png"},12791:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/900fcfe5a4750d690ee0c361fe7ba25-cb2a9f11954a83d60bf28ea9e34351e2.png"},5174:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/a8ab541980b21a3742f4603a1d6b964-0f9628528c5c4674c07fe9503c01f55e.png"},68535:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/af1a3cd73cde2f4ba77ad9c6ee561f4-2346bb3d49828f1bbff5b866fd1da211.png"},69687:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/af2a2e9082e04e53fdbdea4ee694f26-e3cbfafcc14bddcb277b0812c29e14fa.png"},72844:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/c49f005a0a2cce35b26b376f601d8f8-a807d62e416b673fb25c452a72b10fe1.png"},6017:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/c92f4827525e2b982a84a0da400d095-4c1260504c7f1c1a0958646c47115d4a.png"},41580:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/cc13df7bc6fb0868f025fc8340a9756-61b2bd62d12a8870af47f9eba0c690de.png"},55975:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/d1ba9d312809e00de8d84d170f8a60b-7de4836cbdec8fa4f9c9103a91dc03b1.png"},56420:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/d2673e48e261c36496c2858c4cc5aba-2f2116097c1d77926c1f0f2788d760de.png"},64493:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/d335738258ea3f37aee0ee2ed872011-83788aefc468e4d188d48082914d2935.png"},48716:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/dc14ce9b84056625d29ae8af07e951d-3607a05009064a08b7cd4a68591f300e.png"},94022:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/f051736711146068df587dba564ef2a-17047459b6ae47383533a88d93e84a06.png"},68312:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/f819d7d9339518a526fb477e934dc2a-1c89119a2c78933df9d4a5820228b536.png"},50409:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/fc60a7e8c3fd871e46b7af0c3407dee-6b51a671549bea6304e5ea56f1e455d3.png"},556:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/fe7d3cea0fcbf87768f8f5b1bf6c42c-3b036bd1c5057088ba908b4564ebca82.png"}}]);